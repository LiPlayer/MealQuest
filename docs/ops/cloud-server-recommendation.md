# MealQuest äº‘æœåŠ¡å™¨é€‰å‹æ¨èæŠ¥å‘Š (æ›´æ–°è‡³ 2026å¹´2æœˆ)

é’ˆå¯¹"é¤é¤æœ‰æˆ (MealQuest)"æŠ€æœ¯æ ˆï¼ˆNode.js + PostgreSQL + å¾®ä¿¡å°ç¨‹åº + GLM AI API + WebSocketï¼‰ï¼Œä»¥ä¸‹æ˜¯åŸºäºæœ€æ–°äº§å“çº¿çš„é€‰å‹å»ºè®®ã€‚

---

## 1. é¡¹ç›®æŠ€æœ¯ç”»åƒæ‘˜è¦

| ç»´åº¦ | æè¿° |
| :--- | :--- |
| **è¿è¡Œæ—¶** | Node.js + HTTP + WebSocket (é•¿è¿æ¥) |
| **æ•°æ®åº“** | PostgreSQLï¼ˆæ ¸å¿ƒèµ„äº§ã€äº¤æ˜“å­˜å‚¨ï¼‰ |
| **AI æœåŠ¡** | æ™ºè°± GLM APIï¼ˆå¤–éƒ¨è°ƒç”¨ï¼Œéœ€ç¨³å®šå‡ºç«™ï¼‰ |
| **å‰ç«¯** | å¾®ä¿¡å°ç¨‹åº + æ”¯ä»˜å®å°ç¨‹åº (Cç«¯åŒå¹³å°) + React Native (Bç«¯) |
| **å®¹å™¨åŒ–** | å·²å…·å¤‡ `Dockerfile` + `docker-compose` |

---

## 2. å‚å•†æ¨è (2026å¹´2æœˆäº§å“çº¿)

### ğŸ† é¦–é€‰ï¼šè…¾è®¯äº‘ï¼ˆå¾®ä¿¡ç”Ÿæ€æœ€ä¼˜ï¼‰

å¾®ä¿¡å°ç¨‹åºåŸŸåç™½åå•ã€å¾®ä¿¡æ”¯ä»˜å›è°ƒä¸è…¾è®¯äº‘ç›´è¿ä¼˜åŠ¿æ˜¾è‘—ã€‚æ”¯ä»˜å®å°ç¨‹åºæ— å¹³å°é™åˆ¶ï¼Œé˜¿é‡Œäº‘ / è…¾è®¯äº‘å‡å¯æ»¡è¶³å…¶ HTTPS å›è°ƒè¦æ±‚ï¼Œä¸å½±å“é€‰å‹ã€‚

**å¼€å‘ / æµ‹è¯•ç¯å¢ƒ**
- **è½»é‡åº”ç”¨æœåŠ¡å™¨ (Lighthouse)**: 2æ ¸ 4G 8Må¸¦å®½
  - æœˆä»˜çº¦ Â¥50ï½80ï¼ˆæ´»åŠ¨ä»·ï¼ŒæŒç»­é¢†åˆ¸å¯æ›´ä½ï¼‰

**ç”Ÿäº§ç¯å¢ƒ**
| æœåŠ¡ | è§„æ ¼ | æœˆè´¹ä¼°ç®— |
| :--- | :--- | :--- |
| **äº‘æœåŠ¡å™¨ CVM** | 2æ ¸ 4G / S6/S7 ç³»åˆ— | Â¥160ï½220 |
| **TDSQL-C PostgreSQL** | Serverless ç‰ˆï¼ˆè‡ªåŠ¨ä¼¸ç¼©ï¼‰ | Â¥0.05/ACUÂ·æ—¶ï¼ŒæŒ‰é‡è®¡è´¹ |
| **Redis** | 1G æ ‡å‡†æ¶æ„ | Â¥50ï½80 |
| **CLB è´Ÿè½½å‡è¡¡** | å…±äº«å‹ï¼ˆå« WebSocket ä¼šè¯ä¿æŒï¼‰ | Â¥15+æµé‡ |
| **CDN** | ç”¨äº AI ç”Ÿæˆèµ„äº§å‘å¸ƒ | Â¥0.2/GB èµ· |

> **TDSQL-C Serverless PostgreSQL** æ˜¯è…¾è®¯äº‘ 2025å¹´ä¸»æ¨äº§å“ï¼Œå…¼å®¹åŸç”Ÿ PGï¼Œé—²æ—¶è‡ªåŠ¨ç¼©å®¹åˆ° 0ï¼Œéå¸¸é€‚åˆé¤é¥®åˆæœŸå¿½é«˜å¿½ä½çš„æµé‡æ¨¡å¼ã€‚æ”¯ä»˜å®å°ç¨‹åºæ¥å…¥åŒæ ·éœ€æœåŠ¡å™¨æŒæœ‰æœ‰æ•ˆ SSL è¯ä¹¦ï¼ˆå„å¤§äº‘å‚å•†å‡å…è´¹æä¾›ï¼‰ã€‚

---

### æ–¹æ¡ˆ Bï¼šé˜¿é‡Œäº‘ï¼ˆå¼¹æ€§æ‰©å±•é¦–é€‰ï¼‰

**ç”Ÿäº§/é«˜å¢é•¿é˜¶æ®µ**
| æœåŠ¡ | è§„æ ¼ | æœˆè´¹ä¼°ç®— |
| :--- | :--- | :--- |
| **ECS å¼¹æ€§è®¡ç®—** (g8a/g8i) | 2æ ¸ 8Gï¼ˆAMD/Intel ç¬¬8ä»£ï¼‰ | Â¥200ï½350 |
| **PolarDB for PG** | 1æ ¸ 2G Serverless | æŒ‰ CU è®¡è´¹ï¼Œèµ·æ­¥Â¥0.1/CUÂ·æ—¶ |
| **SAE Serverless å®¹å™¨** | 0.5C 1Gï¼ˆå¼¹æ€§ï¼‰ | æŒ‰é‡ï¼Œ0æˆæœ¬é—²æ—¶ |
| **OSS å¯¹è±¡å­˜å‚¨** | AI èµ„äº§å­˜å‚¨ + CDN | Â¥0.12/GBÂ·æœˆ |

> é˜¿é‡Œäº‘ SAE åœ¨ **2025å¹´åº•** å‘å¸ƒäº†å¯¹ Docker Compose ä¸€é”®å¯¼å…¥çš„æ”¯æŒï¼Œæ‚¨ç°æœ‰çš„ `docker-compose.yml` å‡ ä¹å¯ä»¥é›¶ä¿®æ”¹ä¸Šäº‘ã€‚

---

## 3. æ¶æ„å»ºè®®

```
App Layer:        Docker Container (CVM/SAE Serverless)
                        |
Database:         Managed PostgreSQL (TDSQL-C / PolarDB)
                        |
Cache:            Redis (ä¼šè¯ã€Tokenç¼“å­˜)
                        |
Assets:           OSS/COS + CDN (AIç”Ÿæˆ 2D å›¾ç‰‡ / Lottie)
                        |  
AI Calls:         GLM API â†’ (å›½å†…å‡ºå£ï¼Œå»¶è¿Ÿ <200ms)
```

1. **WebSocket ä¼šè¯ä¿æŒ**: CLB/SLB é…ç½®"ä¸€è‡´æ€§å“ˆå¸Œ"æˆ–"IPå“ˆå¸Œ"ä¼šè¯ä¿æŒï¼Œç¡®ä¿ WebSocket è¿æ¥ä¸æ–­ã€‚
2. **æ•°æ®å®‰å…¨**: åŠ¡å¿…å¯ç”¨ PostgreSQL çš„ **è¡Œçº§å®‰å…¨ç­–ç•¥ (RLS)**ï¼ˆ`.env` ä¸­å·²æœ‰ `MQ_DB_ENFORCE_RLS=true`ï¼‰ï¼Œäº‘æ‰˜ç®¡ DB è¯·å¼€å¯ SSL è¿æ¥ã€‚
3. **AI è°ƒç”¨é˜²è¶…æ—¶**: AI è¯·æ±‚è¶…æ—¶å»ºè®® 45sï¼Œå»ºè®®åœ¨ CDN/WAF å±‚åŒæ­¥è°ƒæ•´ä¸Šæ¸¸è¶…æ—¶ä¸º 60sï¼Œé˜²æ­¢ç½‘å…³æå‰æ–­é“¾ã€‚

---

## 4. æˆæœ¬å¯¹æ¯” & ä¸Šçº¿è·¯å¾„

| é˜¶æ®µ | æ¨èæ–¹æ¡ˆ | æœˆè´¹èŒƒå›´ |
| :--- | :--- | :--- |
| **å¼€å‘æµ‹è¯•** | è…¾è®¯äº‘ Lighthouse 2C4G + è‡ªå»º DB | Â¥50 - Â¥80 |
| **å†…æµ‹/Beta** | CVM 2C4G + TDSQL-C Serverless PG | Â¥200 - Â¥350 |
| **æ­£å¼å‘å¸ƒ** | CVM/SAE + æ‰˜ç®¡ PG + Redis + CDN + WAF | Â¥600 - Â¥1000 |

> ğŸ’¡ **å»ºè®®å…ˆè¡Œ**: ä» **è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨** å¼€å§‹ï¼Œé¢„è£… Dockerï¼Œç›´æ¥ `docker compose up -d` æ‹‰èµ·æ‚¨ç°æœ‰çš„ç¯å¢ƒï¼ŒéªŒè¯é€šè·¯åå†è¿ç§»åˆ°æ‰˜ç®¡ DBã€‚

---

*å‚è€ƒï¼šè…¾è®¯äº‘ [cloud.tencent.com](https://cloud.tencent.com) | é˜¿é‡Œäº‘ [aliyun.com](https://aliyun.com)*
